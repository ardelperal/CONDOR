# ๐๏ธ Arquitectura de Funcionalidades - Proyecto CONDOR

## ๐ Resumen de Componentes por Funcionalidad

### ๐ **Autenticaciรณn (Auth)**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    AUTENTICACIรN                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ IAuthService.cls          โ Interface                   โ
โ ๐ IAuthRepository.cls       โ Interface                   โ
โ ๐ง CAuthService.cls          โ Implementaciรณn              โ
โ ๐ง CAuthRepository.cls       โ Implementaciรณn              โ
โ ๐งช CMockAuthService.cls      โ Mock para testing           โ
โ ๐งช CMockAuthRepository.cls   โ Mock para testing           โ
โ ๐ญ modAuthFactory.bas        โ Factory                     โ
โ โ Test_AuthService.bas      โ Tests unitarios             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ **Dependencias:**
- CAuthService โ IAuthRepository
- CAuthService โ IErrorHandlerService
- CAuthRepository โ IConfig
```

### ๐ **Gestiรณn de Documentos (Document)**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                GESTIรN DE DOCUMENTOS                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ IDocumentService.cls      โ Interface                   โ
โ ๐ง CDocumentService.cls      โ Implementaciรณn              โ
โ ๐งช CMockDocumentService.cls  โ Mock para testing           โ
โ ๐ญ modDocumentServiceFactory.bas โ Factory                 โ
โ โ Test_DocumentService.bas  โ Tests unitarios             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ **Dependencias:**
- CDocumentService โ IWordManager
- CDocumentService โ IFileSystem
- CDocumentService โ IErrorHandlerService
```

### ๐ **Gestiรณn de Expedientes (Expediente)**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                GESTIรN DE EXPEDIENTES                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ IExpedienteService.cls    โ Interface                   โ
โ ๐ IExpedienteRepository.cls โ Interface                   โ
โ ๐ง CExpedienteService.cls    โ Implementaciรณn              โ
โ ๐ง CExpedienteRepository.cls โ Implementaciรณn              โ
โ ๐งช CMockExpedienteRepository.cls โ Mock para testing       โ
โ ๐ญ modExpedienteServiceFactory.bas โ Factory               โ
โ โ Test_CExpedienteService.bas โ Tests unitarios           โ
โ ๐ฌ IntegrationTest_CExpedienteRepository.bas โ Tests integraciรณn โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ **Dependencias:**
- CExpedienteService โ IExpedienteRepository
- CExpedienteService โ IErrorHandlerService
- CExpedienteRepository โ IConfig
```

### ๐ **Gestiรณn de Solicitudes (Solicitud)**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                GESTIรN DE SOLICITUDES                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ ISolicitudService.cls     โ Interface                   โ
โ ๐ ISolicitudRepository.cls  โ Interface                   โ
โ ๐ง CSolicitudService.cls     โ Implementaciรณn              โ
โ ๐ง CSolicitudRepository.cls  โ Implementaciรณn              โ
โ ๐งช CMockSolicitudRepository.cls โ Mock para testing        โ
โ ๐ญ modSolicitudServiceFactory.bas โ Factory                โ
โ โ Test_SolicitudService.bas โ Tests unitarios             โ
โ ๐ฌ IntegrationTest_SolicitudRepository.bas โ Tests integraciรณn โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ **Dependencias:**
- CSolicitudService โ ISolicitudRepository
- CSolicitudService โ IOperationLogger
- CSolicitudService โ IErrorHandlerService
```

### ๐ **Gestiรณn de Flujos de Trabajo (Workflow)**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              GESTIรN DE FLUJOS DE TRABAJO                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ IWorkflowService.cls      โ Interface                   โ
โ ๐ IWorkflowRepository.cls   โ Interface                   โ
โ ๐ง CWorkflowService.cls      โ Implementaciรณn              โ
โ ๐ง CWorkflowRepository.cls   โ Implementaciรณn              โ
โ ๐งช CMockWorkflowRepository.cls โ Mock para testing         โ
โ ๐ญ modWorkflowRepositoryFactory.bas โ Factory              โ
โ โ Test_WorkflowService.bas  โ Tests unitarios             โ
โ ๐ฌ IntegrationTest_WorkflowRepository.bas โ Tests integraciรณn โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ **Dependencias:**
- CWorkflowService โ IWorkflowRepository
- CWorkflowService โ IErrorHandlerService
- CWorkflowRepository โ IConfig
```

### ๐บ๏ธ **Gestiรณn de Mapeos (Mapeo)**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                  GESTIรN DE MAPEOS                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ IMapeoRepository.cls      โ Interface                   โ
โ ๐ง CMapeoRepository.cls      โ Implementaciรณn              โ
โ ๐งช CMockMapeoRepository.cls  โ Mock para testing           โ
โ ๐ฌ IntegrationTest_CMapeoRepository.bas โ Tests integraciรณn โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ **Dependencias:**
- CMapeoRepository โ IConfig
```

### ๐ง **Gestiรณn de Notificaciones (Notification)**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ               GESTIรN DE NOTIFICACIONES                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ INotificationService.cls  โ Interface                   โ
โ ๐ INotificationRepository.cls โ Interface                 โ
โ ๐ง CNotificationService.cls  โ Implementaciรณn              โ
โ ๐งช CMockNotificationService.cls โ Mock para testing        โ
โ ๐ญ modNotificationServiceFactory.bas โ Factory             โ
โ โ Test_NotificationService.bas โ Tests unitarios          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ **Dependencias:**
- CNotificationService โ INotificationRepository
- CNotificationService โ IErrorHandlerService
```

### ๐ **Gestiรณn de Operaciones y Logging (Operation)**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ            GESTIรN DE OPERACIONES Y LOGGING                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ IOperationLogger.cls      โ Interface                   โ
โ ๐ IOperationRepository.cls  โ Interface                   โ
โ ๐ง COperationLogger.cls      โ Implementaciรณn              โ
โ ๐ง COperationRepository.cls  โ Implementaciรณn              โ
โ ๐งช CMockOperationLogger.cls  โ Mock para testing           โ
โ ๐งช CMockOperationRepository.cls โ Mock para testing        โ
โ ๐ญ modOperationLoggerFactory.bas โ Factory                 โ
โ โ Test_OperationLogger.bas  โ Tests unitarios             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ **Dependencias:**
- COperationLogger โ IOperationRepository
- COperationLogger โ IConfig
- COperationLogger โ IErrorHandlerService
```

### โ๏ธ **Configuraciรณn (Config)**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    CONFIGURACIรN                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ IConfig.cls               โ Interface                   โ
โ ๐ง CConfig.cls               โ Implementaciรณn              โ
โ ๐งช CMockConfig.cls           โ Mock para testing           โ
โ ๐ฆ modConfig.bas             โ Mรณdulo auxiliar             โ
โ ๐ฌ IntegrationTest_CConfig.bas โ Tests integraciรณn         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ **Dependencias:**
- CConfig โ IFileSystem (para leer archivos de configuraciรณn)
```

### ๐๏ธ **Sistema de Archivos (FileSystem)**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                 SISTEMA DE ARCHIVOS                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ IFileSystem.cls           โ Interface                   โ
โ ๐ง CFileSystem.cls           โ Implementaciรณn              โ
โ ๐งช CMockFileSystem.cls       โ Mock para testing           โ
โ ๐งช CMockTextFile.cls         โ Mock para archivos texto    โ
โ ๐ญ modFileSystemFactory.bas  โ Factory                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ **Dependencias:**
- Componente base sin dependencias externas
```

### ๐ **Gestiรณn de Word (WordManager)**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                  GESTIรN DE WORD                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ IWordManager.cls          โ Interface                   โ
โ ๐ง CWordManager.cls          โ Implementaciรณn              โ
โ ๐งช CMockWordManager.cls      โ Mock para testing           โ
โ ๐ญ modWordManagerFactory.bas โ Factory                     โ
โ โ Test_CWordManager.bas     โ Tests unitarios             โ
โ ๐ฌ IntegrationTest_WordManager.bas โ Tests integraciรณn     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ **Dependencias:**
- CWordManager โ IErrorHandlerService
- CWordManager โ IFileSystem
```

### โ **Gestiรณn de Errores (ErrorHandler)**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                  GESTIรN DE ERRORES                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ IErrorHandlerService.cls  โ Interface                   โ
โ ๐ง CErrorHandlerService.cls  โ Implementaciรณn              โ
โ ๐งช CMockErrorHandlerService.cls โ Mock para testing        โ
โ ๐ญ modErrorHandlerFactory.bas โ Factory                    โ
โ โ Test_ErrorHandlerService.bas โ Tests unitarios          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ **Dependencias:**
- Componente base utilizado por casi todos los demรกs servicios
```

### ๐งช **Framework de Testing**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                  FRAMEWORK DE TESTING                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ ITestReporter.cls         โ Interface                   โ
โ ๐ง CTestReporter.cls         โ Implementaciรณn              โ
โ ๐ง CTestResult.cls           โ Resultado de test           โ
โ ๐ง CTestSuiteResult.cls      โ Resultado de suite          โ
โ ๐ฆ modAssert.bas             โ Utilidades de assert        โ
โ ๐ฆ modTestRunner.bas         โ Ejecutor de tests           โ
โ โ Test_modAssert.bas        โ Tests del framework         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ๐ข **Gestiรณn de Aplicaciรณn (AppManager)**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                GESTIรN DE APLICACIรN                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ฆ modAppManager.bas         โ Gestor principal            โ
โ โ Test_AppManager.bas       โ Tests unitarios             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ **Dependencias:**
- modAppManager โ Mรบltiples servicios y factories
```

### ๐๏ธ **Modelos de Datos (Entidades)**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   MODELOS DE DATOS                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ท๏ธ T_Adjuntos.cls           โ Entidad Adjuntos            โ
โ ๐ท๏ธ T_AuthData.cls           โ Entidad Datos Auth          โ
โ ๐ท๏ธ T_Datos_CD_CA.cls        โ Entidad Datos CD/CA         โ
โ ๐ท๏ธ T_Datos_CD_CA_SUB.cls    โ Entidad Datos CD/CA Sub     โ
โ ๐ท๏ธ T_Datos_PC.cls           โ Entidad Datos PC            โ
โ ๐ท๏ธ T_Estado.cls             โ Entidad Estado              โ
โ ๐ท๏ธ T_Expediente.cls         โ Entidad Expediente          โ
โ ๐ท๏ธ T_LogCambios.cls         โ Entidad Log Cambios         โ
โ ๐ท๏ธ T_LogErrores.cls         โ Entidad Log Errores         โ
โ ๐ท๏ธ T_Mapeo.cls              โ Entidad Mapeo               โ
โ ๐ท๏ธ T_Operacion.cls          โ Entidad Operaciรณn           โ
โ ๐ท๏ธ T_Solicitud.cls          โ Entidad Solicitud           โ
โ ๐ท๏ธ T_Transicion.cls         โ Entidad Transiciรณn          โ
โ ๐ท๏ธ T_Usuario.cls            โ Entidad Usuario             โ
โ ๐ง QueryParameter.cls        โ Parรกmetro de consulta       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ๐ **Utilidades y Enumeraciones**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              UTILIDADES Y ENUMERACIONES                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ฆ modEnumeraciones.bas      โ Enumeraciones del sistema   โ
โ ๐ญ modRepositoryFactory.bas  โ Factory de repositorios     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ Mapa de Dependencias Principales

```
                    โโโโโโโโโโโโโโโโโโโ
                    โ   IConfig       โ
                    โโโโโโโโโโโฌโโโโโโโโ
                              โ
              โโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโ
              โ               โ               โ
    โโโโโโโโโโโผโโโโโโโโโโ    โ    โโโโโโโโโโโผโโโโโโโโโโ
    โ IErrorHandler     โ    โ    โ   IFileSystem     โ
    โ Service           โ    โ    โ                   โ
    โโโโโโโโโโโฌโโโโโโโโโโ    โ    โโโโโโโโโโโฌโโโโโโโโโโ
              โ              โ              โ
              โ              โ              โ
    โโโโโโโโโโโผโโโโโโโโโโ    โ    โโโโโโโโโโโผโโโโโโโโโโ
    โ   Todos los       โ    โ    โ  CDocumentService โ
    โ   Servicios       โ    โ    โ  CWordManager     โ
    โโโโโโโโโโโโโโโโโโโโโ    โ    โโโโโโโโโโโโโโโโโโโโโ
                             โ
                   โโโโโโโโโโโผโโโโโโโโโโ
                   โ  Repositorios     โ
                   โ  (Auth, Solicitud,โ
                   โ   Expediente,     โ
                   โ   Workflow, etc.) โ
                   โโโโโโโโโโโโโโโโโโโโโ
```

## ๐ Estadรญsticas del Proyecto

- **Total de archivos:** 95
- **Interfaces:** 15
- **Implementaciones:** 15
- **Mocks:** 13
- **Factories:** 9
- **Tests unitarios:** 10
- **Tests de integraciรณn:** 6
- **Entidades de datos:** 14
- **Mรณdulos auxiliares:** 6

## ๐ฏ Patrones Arquitectรณnicos Identificados

1. **Patrรณn Repository:** Separaciรณn entre lรณgica de negocio y acceso a datos
2. **Patrรณn Factory:** Creaciรณn centralizada de objetos
3. **Patrรณn Dependency Injection:** Inyecciรณn de dependencias a travรฉs de interfaces
4. **Patrรณn Mock Object:** Testing con objetos simulados
5. **Patrรณn Service Layer:** Capa de servicios para lรณgica de negocio

---
*Documento generado automรกticamente - Proyecto CONDOR*